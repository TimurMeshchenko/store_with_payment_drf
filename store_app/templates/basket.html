{% extends "catalog.html" %} {% load static %} {% block css %}<link href="{% static 'css/basket/basket-v3.min.782cbc13532e70c7.css' %}"rel="stylesheet"type="text/css"><link rel="stylesheet"href="{% static 'css/basket/payment.css' %}"><script src="https://js.stripe.com/v3/"></script><script src="{% static 'js/payment.js' %}"defer="defer"></script>{% endblock %} {% block title %}<title>Корзина</title>{% endblock %} {% block body %}<div class="wrapper"><main class="main left-bg"role="main"id="body-layout"><div id="mainContainer"class="main__container"><div id="app"><div data-link="visible{:containerId == ~router.activeContainer &amp;&amp; !~router.showPreview}"style="display:block"><div class="basket-page j-b-lk-basket desktop"><div class="basket-page__blocks-wrap"><form class="basket-page__basket-form basket-form"id="payment-form"data-link="class{merge: isBuyItNowMode toggle=&#39;basket-form--buy-now&#39;}class{merge:debtDeliveries toggle=&#39;disable&#39;}">{%csrf_token%}<div class="basket-form__content j-basket-form__content"><div class="basket-form__basket-section basket-section"data-link="{include tmpl=&#39;basketListTemplate&#39;}"><div class="basket-section__header-tabs"data-link="class{merge: visibleBalanceTooltip toggle=&#39;basket-section__header-tabs--balance&#39;}"><h1 class="basket-section__header active"data-link="data-count{:totalQuantity}class{merge: totalAvailableItemsCount == 0 toggle=&#39;basket-section__header--no-margin&#39;}">Корзина</h1></div><div class="basket-section__basket-list basket-list"><div class="basket-list__accordion accordion"data-link="class{merge: !!_hidden toggle=&#39;closed&#39; }"><div class="accordion__body j-b-list-content"><div class="accordion__list"><div data-link="         {on &#39;click&#39; &#39;.j-cb-include&#39; ~routerViewModel.toggleIncludeInOrder}         {on &#39;click&#39; &#39;.minus, .plus&#39; ~routerViewModel.setQuantity }         {on &#39;change&#39; &#39;.j-tb-qnt&#39; ~routerViewModel.updateQuantity }         {on &#39;input&#39; &#39;.j-tb-qnt&#39; ~routerViewModel.replaceValue}         {on &#39;click&#39; &#39;.j-basket-item-postpone&#39; ~routerViewModel.postponeBasketItem }         {on &#39;click&#39; &#39;.j-basket-item-del&#39; ~routerViewModel.deleteBasketItem }         {on &#39;click&#39; &#39;.j-product-popup&#39; ~routerViewModel.showProductCardPopup}        "data-jsv="#471^/471^#472^/472^#473^/473^#474^/474^#475^/475^#476^/476^#477^/477^"></div></div></div></div></div></div></div><div class="basket-form__sidebar sidebar"><div class="sidebar__sticky-wrap"><div class="j-b-basket-footer"data-link="{include #data tmpl=&#39;basketFooter&#39;}"><div class="basket-section basket-order"><div class="basket-order__b-top b-top"><p class="b-top__total line"><span>Итого</span> <span><span data-link="{formatMoneyAnim (totalPriceWithCouponPersDiscAndDeliveryPrice - (!postpay() &amp;&amp; payByBalance &lt; 0 ? payByBalance : 0)) + totalPaymentFeeAmount converter=&#39;basketPriceWithCurrencyV2&#39;}"data-jsv="#560^/560^"class="total_price">414&nbsp;₽</span></span></div><div class="basket-order__b-btn b-btn"><div id="payment-element"></div><button type="button"data-link="{on submitOrder ~tag}"class="b-btn-do-order btn-main j-btn-confirm-order"name="ConfirmOrderByRegisteredUser"data-jsv="#561^/561^">Заказать</button><div id="payment-message"class="hidden"></div></div></div></div></div></div></form></div></div></div></div></div></main></div><script src="{% static 'js/basket.js' %}"></script>{% endblock %}